<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Get & Display JSON Data</title>
</head>
<body>
    
    <h1>Users : </h1>

    <ul>

    </ul>

    <script>
        // fetch is promise based. we actually get a promise here we can consume a promise in 2 ways
        // .then() or await fetch()
        // fetch() actually send a request eventually we get a response and we get access to the response here
        // we can call the response or just res
        // fetch('https://jsonplaceholder.typicode.com/users')
        //.then(response => {
        //    console.log(response); // get a response object
        //})



        //fetch('https://jsonplaceholder.typicode.com/users')
        //.then(response => {
        //    return response.json();
            // with this method we will wait until everything has been streamed in 
            // and then immediately parse the data as json because the data will come in the format of json
            // and we want to convert that from json into normal javascript
            // this one actually give us a promise and we are returning a promise here
            // whenever the value is with this promise gets fulfilled is what we get here & that will be the 
            // actual data in normal javascript format        
        //})
        //.then(data => {
        //    console.log(data);
        //})
        //.catch(error => console.log(error));




        // we want to create an li for each of these users

        fetch('https://jsonplaceholder.typicode.com/users')
        .then(response => {
            return response.json();       
        })
        .then(data => {
            console.log(data);
            data.forEach(user => {
                const markup = `<li>${user.name}</li>`;
                document.querySelector('ul').insertAdjacentHTML('beforeend', markup)
            })
        })
        .catch(error => console.log(error));


    </script>

</body>
</html>